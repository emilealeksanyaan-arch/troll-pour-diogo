<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Troll Diogo</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
      color: #0F0;
      font-family: monospace;
    }

    #virus-msg {
      position: absolute;
      top: 20px;
      left: 20px;
      color: #0F0;
      font-size: 20px;
      background: rgba(0,0,0,0.6);
      padding: 15px;
      border: 1px solid #0F0;
      width: 600px;
      line-height: 1.4;
      min-height: 120px;
    }

    #fake-button {
      position: absolute;
      bottom: 40px;
      left: 40px;
      padding: 15px 25px;
      background: #0F0;
      color: black;
      font-size: 20px;
      border: none;
      cursor: pointer;
      font-family: monospace;
    }

    #red-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: red;
      color: white;
      font-size: 40px;
      font-family: monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s;
      text-align: center;
      padding: 20px;
    }

    .shake {
      animation: shake 0.3s infinite;
    }

    @keyframes shake {
      0% { transform: translate(0, 0); }
      25% { transform: translate(-5px, 3px); }
      50% { transform: translate(5px, -3px); }
      75% { transform: translate(-4px, -2px); }
      100% { transform: translate(0, 0); }
    }

    canvas {
      display: block;
    }
  </style>
</head>

<body>

<div id="virus-msg">Initialisation...</div>
<button id="fake-button">Arrêter le virus</button>
<div id="red-screen"></div>

<canvas id="matrix"></canvas>

<script>
  // --- EFFET MATRIX ---
  const canvas = document.getElementById("matrix");
  const ctx = canvas.getContext("2d");

  canvas.height = window.innerHeight;
  canvas.width = window.innerWidth;

  const letters = "01";
  const fontSize = 16;
  const columns = canvas.width / fontSize;

  const drops = [];
  for (let i = 0; i < columns; i++) drops[i] = 1;

  function drawMatrix() {
    ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "#0F0";
    ctx.font = fontSize + "px monospace";

    for (let i = 0; i < drops.length; i++) {
      const text = letters[Math.floor(Math.random() * letters.length)];
      ctx.fillText(text, i * fontSize, drops[i] * fontSize);

      if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
        drops[i] = 0;
      }

      drops[i]++;
    }
  }

  setInterval(drawMatrix, 50);

  // --- LOGS + POURCENTAGE ---
  const virusMsg = document.getElementById("virus-msg");
  let percent = 0;

  const logs = [
    "Analyse du système...",
    "Scan des fichiers sensibles...",
    "Décryptage des données...",
    "Accès aux dossiers privés...",
    "Chargement des modules...",
    "Connexion au serveur distant...",
    "Accès refusé... contournement...",
    "Système compromis...",
    "Injection du script...",
    "Préparation de l’activation finale..."
  ];

  let logIndex = 0;

  const interval = setInterval(() => {
    percent += Math.floor(Math.random() * 6) + 3;
    if (percent > 100) percent = 100;

    if (logIndex < logs.length - 1) logIndex++;

    virusMsg.innerHTML =
      logs[logIndex] + "<br><br>" +
      "Progression : " + percent + "%";

    if (percent === 100) {
      clearInterval(interval);
      virusMsg.innerHTML =
        "Virus installé.<br>" +
        "En attente d’activation finale...";
    }
  }, 900);

  // --- BOUTON PIÉGÉ + ÉCRAN ROUGE + COMPTE À REBOURS + TREMBLEMENT ---
  const fakeButton = document.getElementById("fake-button");
  const redScreen = document.getElementById("red-screen");

  fakeButton.addEventListener("click", () => {
    let countdown = 5;
    redScreen.style.opacity = 1;
    redScreen.classList.add("shake");
    redScreen.innerHTML = "Activation finale dans : " + countdown + "…";

    const cdInterval = setInterval(() => {
      countdown--;
      if (countdown > 0) {
        redScreen.innerHTML = "Activation finale dans : " + countdown + "…";
      } else {
        clearInterval(cdInterval);
        redScreen.classList.remove("shake");
        redScreen.innerHTML =
          "T’es foutu.<br>" +
          "Diogo, tu ne peux plus rien faire.<br>" +
          "Système verrouillé.<br>" +
          "Bonne chance.";
      }
    }, 1000);
  });
</script>

</body>
</html>

